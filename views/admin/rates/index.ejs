<% include ../../adminLayout %>

<div class="panel panel-info">
  <div style="float: right; padding-top: 4px; padding-right: 15px;">
    <% if (user) { %>
    <a href="/admin/logout" class="btn btn-default btn-sm">Logout</a>
    <% } %>
    <a href="/admin/index" class="btn btn-default btn-sm">Back To Home</a>
  </div>

  <div class="clear"></div>

  <div class="panel-heading">
    <h3 class="panel-title"><%=title %></h3>
  </div>
  

  <div class="panel-body" data-ng-app="adminRateModule" data-ng-controller="adminViewRateController">
      <!-- show any messages that come back with authentication -->
    <% if (typeof message != "undefined" && message.length > 0) { %>
        <div class="alert alert-danger"><%= message %></div>
    <% } %>
      <div class="col-sm-12">
        <div class="well">
            <a href="/admin/rates/createRate" class="btn btn-warning" style="float: right;">Create New Rate</a>
            <h3><span class="fa fa-user"></span> Rates</h3>
            <div class="clear"></div>
            
            <div class='table-scrollable' style="min-height: 600px;">
                <table ng-table="tableParams" class="table" show-filter="true">
                    <tr ng-repeat="rate in $data" class="animate">
                        <td title="'Year'" filter="{ year: 'text'}" sortable="'year'">
                            {{rate.year}}</td>
                        <td title="'Make'" filter="{ make: 'text'}" sortable="'make'">
                            {{rate.make}}</td>
                        <td title="'Model'" filter="{ model: 'text'}" sortable="'model'">
                            {{rate.model}}</td>
                        <td title="'Name'" filter="{ name: 'text'}" sortable="'name'">
                            {{rate.name}}</td>
                        <td title="'Min Rate'" sortable="'min_rate'">
                            {{rate.min_rate | currency:"$"}}</td>
                        <td title="'Max Rate'" sortable="'max_rate'">
                            {{rate.max_rate | currency:"$"}}</td>
                        <td title="'&nbsp;'" show="true" class="info">
                        <a href="/admin/rates/edit/{{rate.id}}" class="btn btn-default" style="width: 100%;">
                            Edit
                        </a>
                    </td>
                    </tr>
                </table>
            </div>
            
        </div>
    </div>
  </div>
</div>



<% include ../../footer %>
<link rel="stylesheet" href="../../../bower_components/ng-table/dist/ng-table.min.css" type="text/css" media="screen">
<script src="../../../bower_components/angular/angular.min.js" type="text/javascript"></script>
<script src="../../../bower_components/ng-table/dist/ng-table.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../bower_components/angular-animate/angular-animate.min.js" type="text/javascript" charset="utf-8"></script>

<script src="../../../javascripts/app/admin/rate/adminRateModule.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../javascripts/app/admin/rate/adminRateService.js" type="text/javascript" charset="utf-8"></script>
<script src="../../../javascripts/app/admin/rate/adminViewRateController.js" type="text/javascript" charset="utf-8"></script>


<style>
.myGrid {
    width: 500px;
    height: 250px;
  }
</style>
